# 校园欺凌终结者

一个基于计算机视觉的校园暴力检测和人脸识别系统，旨在帮助预防和识别校园欺凌行为。

## 功能特点

### 暴力检测
- 实时视频监控和暴力行为检测
- 基于YOLOv8的姿态检测和暴力倾向分析
- 自动保存暴力行为图片
- 实时显示暴力倾向值
- 危险行为预警系统（声音警告）

### 人脸识别
- 支持从已保存的暴力图片中选择人脸进行识别
- 支持手动框选人脸区域
- 实时显示识别结果
- 支持多人脸识别

## 系统要求

- Python 3.8+
- OpenCV
- PyQt5
- YOLOv8
- playsound
- PIL (Pillow)

## 安装说明

1. 克隆项目到本地：
```bash
git clone [项目地址]
cd ProjectCBT_v4
```

2. 安装依赖：
```bash
pip install -r requirements.txt
```

3. 下载预训练模型：
```bash
# 确保yolov8n.pt模型文件在项目根目录
```

## 使用方法

### 登录系统
- 默认用户名：admin
- 默认密码：hgx0501

### 暴力检测
1. 选择摄像头
2. 调整检测灵敏度
3. 点击"开始检测"按钮
4. 系统会自动检测暴力行为并保存相关图片
5. 当检测到危险行为时，系统会发出警告声音
6. 按空格键可以停止警告声音

### 人脸识别
1. 在暴力图片列表中选择一张图片
2. 点击"选择图片"按钮
3. 在图片上框选人脸区域
4. 系统会自动识别选中的人脸
5. 识别结果会显示在右侧面板

## 文件结构

```
ProjectCBT_v4/
├── main.py              # 主程序
├── detection_utils.py   # 检测工具类
├── user.json           # 用户数据
├── violent_figures/    # 保存的暴力图片
├── known_faces/        # 已知人脸数据库
└── warning.mp3         # 警告声音文件
```

## 注意事项

1. 首次运行时，系统会自动创建默认用户
2. 确保摄像头正常工作
3. 保持良好光线条件以获得最佳识别效果
4. 警告声音文件(warning.mp3)需要放在项目根目录

## 开发者

- 黄国轩 (HGXdev)
- 版权所有 © 2025

## 许可证

本项目采用 MIT 许可证